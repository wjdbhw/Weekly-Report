### 第四次周报
***
#### 学习记录
AJAX + vue3
***
#### 学习笔记
##### AJAX
1. 异步js和XML

2. http协议
-  请求报文
行 请求类型get post ；url路径 ； http版本
头 
空行
体
-  响应报文
行 http协议版本 响应状态码 响应状态字符串
头
空行
体 有html标签

3. 发送请求准备
```
//1.引入express
const express = require('express');

//2.创建应用对象
const app = express();

//3.创建路由规则
//request 对请求报文的封装
//require 对响应报文的封装
app.get('/server', (request, response) => {
    //设置响应头 设置允许跨域
    response.setHeader('Acces-Control-Allow-Origin', '*');
    //设置响应
    response.send('HELLO AJAX');
});

//4.监听端口 启动服务
app.listen(8000, () => {
    console.log("服务已经启动，8000端口监听中...");
})
```

4. AJAX 请求基本操作
```
//1.创建对象
const xhr = new XMLHttpRequest();
//2.初始化 设置请求方法和url
xhr.open('GET', 'http://127.0.0.1:8000/server');
//3.发送
xhr.send();
//4.事件绑定 处理服务端返回结果
//on 当...的时候
//readystate xhr中的属性 0未初始化 1open 2send 3返回部分结果 4返回所有结果
// change 改变
xhr.onreadystatechange = function () {
    //判断 服务端返回了所有结果
    if (xhr.readyState === 4) {
        //响应状态码正确 2xx
        if (xhr.status >= 200 && xhr.status < 300) {
            
        }
    }
}

```

5. AJAX设置url参数
`'http://127.0.0.1:8000/server?a=100&b=200&c=300'`
6. 设置post参数`xhr.send('a=100&b=200')`

7. JSON响应数据
- 
```
//响应一个数据
const data = {
    name: 'atguigu'
};
//对对象进行字符串转换
let str = JSON.stringify(data);
response.send(str);
```
- 在server.js文件中
```
//设置响应体数据类型
xhr.responseType = 'json';
```
8. Ie缓存问题
服务器数据已更新，浏览器仍然返回旧的缓存数据。
`xhr.open('GET', 'http://127.0.0.1:8000/ie?t=' + Date.now());`
9. jquery发送AJAX的两种方法
10. 使用axios发送请求

##### VUE
1. setup
```
<script lang="ts" setup name='Person'>
//数据
    let name = '张三'  //此时不是响应式的
    let age = 18

    //方法
    function changeName (){
        name = 'zhangsan'  //这样修改 页面不改
        console.log(name);
    }
</script>
```
2. 用ref创建基本类型的响应式数据
`import {ref} from 'vue'`
需要响应的 `let name = ref('')`
并且所有的js中的都要改成`name.value`
3. 用reactive创建引用类型的响应式数据
`import {reactive} from 'vue'`
需要响应的 `let arr = reactive(  )`



















